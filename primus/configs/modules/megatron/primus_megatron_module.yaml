
# logging
disable_tensorboard: true
disable_wandb: true
disable_mlflow: true
mlflow_run_name: null
mlflow_experiment_name: null
# NOTE: When disable_mlflow=false, traces and logs are uploaded by default.
# Set these to false if you only want metrics/params logged to MLflow.
mlflow_upload_traces: true           # Upload profiler trace files to MLflow
mlflow_upload_logs: true             # Upload training log files to MLflow

# TraceLens Report Generation & Upload
# ----------------------------------------------------------------------------
# generate_tracelens_report:          Generate TraceLens analysis reports locally
# mlflow_upload_tracelens_report:     Upload reports to MLflow (auto-enables generation)
#
# Usage patterns:
#   generate=false, upload=false  →  No reports generated
#   generate=true,  upload=false  →  Generate reports locally only
#   generate=false, upload=true   →  Generate AND upload (auto-enabled)
#   generate=true,  upload=true   →  Generate AND upload (explicit)
# ----------------------------------------------------------------------------
generate_tracelens_report: false     # Generate TraceLens analysis reports locally
mlflow_upload_tracelens_report: false  # Upload TraceLens reports to MLflow (implies generation)
mlflow_tracelens_ranks: null         # List of ranks to analyze with TraceLens (null = all)
mlflow_tracelens_max_reports: null   # Max number of TraceLens reports (null = unlimited)
mlflow_tracelens_output_format: all  # TraceLens report format: all (xlsx+csv), xlsx, or csv
mlflow_tracelens_cleanup_after_upload: false  # Keep local reports (true to cleanup and save disk space)
disable_compile_dependencies: true
# NOTE:
# - If `use_rocm_mem_info = True`, ROCm memory information will be collected
#   with `rocm-smi` at every iteration.
# - If `use_rocm_mem_info = False`, memory information will only be collected
#   at the iterations specified in `use_rocm_mem_info_iters`.
use_rocm_mem_info: false
use_rocm_mem_info_iters: [1,2]

# profiling
disable_profiler_activity_cpu: false
torch_profiler_record_shapes: true
torch_profiler_with_stack: true
torch_profiler_use_gzip: false

# continue/finetune
auto_continue_train: false
disable_last_saving: false

# fp8
no_fp8_weight_transpose_cache: false

# parallelism
decoder_pipeline_manual_split_list: null # int list

# MoE comm & comp Overlap
patch_moe_overlap: false

# perf
pp_warmup: false # set to true to decrease iter-1 time when using pp

# tool
dump_pp_data: false

# recompute
recompute_layer_ids: null #int list，id srange from 0 to (num_layers_per_pp_stage - 1)
